<Page
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:SoonZik.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:control="using:SoonZik.Controls"
    xmlns:Interactivity="using:Microsoft.Xaml.Interactivity" 
    xmlns:Core="using:Microsoft.Xaml.Interactions.Core" 
    xmlns:Media="using:Microsoft.Xaml.Interactions.Media"
    x:Class="SoonZik.Views.MainView"
    mc:Ignorable="d"
    Background="#424242">
    
    <!-- Animation for the menu part and Search Part -->
	<Page.Resources>
		<Storyboard x:Name="MenuStoryBoard" >
            <DoubleAnimation Duration="0:0:0.25" To="300" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)" Storyboard.TargetName="MenuGrid" d:IsOptimized="True"/>
            <DoubleAnimation Duration="0:0:0.25" To="300" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)" Storyboard.TargetName="PivotGlobal" d:IsOptimized="True"/>
        </Storyboard>
        <Storyboard x:Name="MenuStoryBoardBack" >
            <DoubleAnimation Duration="0:0:0.25" To="0" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)" Storyboard.TargetName="MenuGrid" d:IsOptimized="True"/>
            <DoubleAnimation Duration="0:0:0.25" To="0" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)" Storyboard.TargetName="PivotGlobal" d:IsOptimized="True"/>
        </Storyboard>
        <Storyboard x:Name="SearchStoryBoard">
        	<DoubleAnimation Duration="0:0:0.25" To="-300" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)" Storyboard.TargetName="SearchGrid" d:IsOptimized="True"/>
            <DoubleAnimation Duration="0:0:0.25" To="-300" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)" Storyboard.TargetName="PivotGlobal" d:IsOptimized="True"/>
        </Storyboard>
        <Storyboard x:Name="SearchStoryBoardBack">
            <DoubleAnimation Duration="0:0:0.25" To="0" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)" Storyboard.TargetName="SearchGrid" d:IsOptimized="True"/>
            <DoubleAnimation Duration="0:0:0.25" To="0" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)" Storyboard.TargetName="PivotGlobal" d:IsOptimized="True"/>
        </Storyboard>
        <Storyboard x:ConnectionId='1' x:Name="MenuAloneClose"                                       >
            <DoubleAnimation Duration="0:0:0.25" To="0" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)" Storyboard.TargetName="MenuGrid" d:IsOptimized="True"/>
        </Storyboard>
        <Storyboard x:ConnectionId='2' x:Name="SearchAloneBack"                                        >
            <DoubleAnimation Duration="0:0:0.25" To="0" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)" Storyboard.TargetName="SearchGrid" d:IsOptimized="True"/>
        </Storyboard>
        <FontFamily x:Key="RobotoMenu">Assets/Fonts/RobotoCondensed-Regular.ttf#Roboto Condensed</FontFamily>
    </Page.Resources>

    <!-- Set DataContext -->
	<Page.DataContext>
		<StaticResource ResourceKey="MainViewModel"/>
	</Page.DataContext>

	<Grid x:Name="GlobalGrid" Background="Transparent">
		<Grid.RowDefinitions>
			<RowDefinition Height="40"/>
			<RowDefinition Height="*"/>
		</Grid.RowDefinitions>
    
		<Pivot Grid.Row="1" x:Name="PivotGlobal" HeaderTemplate="{StaticResource SizeHeaderGlobalPivot}" Foreground="Transparent" Margin="0,-3,0,0" RenderTransformOrigin="0.5,0.5" >
			<Pivot.RenderTransform>
				<CompositeTransform/>
			</Pivot.RenderTransform>

			<PivotItem Header="News" x:Name="NewsItem">
				<local:News />
			</PivotItem>

			<PivotItem Header="Profil" x:Name="ProfilItem">
				<local:Profil />
			</PivotItem>

			<PivotItem Header="Explorer" x:Name="ExplorerItem"/>

			<PivotItem Header="Packs" x:Name="PacksItem">
				<local:Packs/>
			</PivotItem>

			<PivotItem Header="Monde Musical" x:Name="MondeMusicalItem"/>

			<PivotItem Header="Battle" x:Name="BattleItem">
				<local:Battle />
			</PivotItem>

			<PivotItem Header="Playlists" x:Name="PlaylistItem">
				<local:Playlist />
			</PivotItem>

			<PivotItem Header="Amis" x:Name="AmisItem">
				<local:Friends/>
			</PivotItem>

			<PivotItem Header="Achats" x:Name="AchatItem"/>

        </Pivot>
    
		<Grid x:Name="HeaderGrid" Grid.Row="0" Background="Transparent" Height="40">
            <ToggleButton x:Name="ToggleButtonMenu" Content="ToggleButton" HorizontalAlignment="Left" Height="20" Margin="10,8,0,12" Style="{StaticResource ToggleButtonStyle1}" VerticalAlignment="Center" Width="20" MinHeight="20" MinWidth="20" IsChecked="False" MaxHeight="20" MaxWidth="20">
            	<Interactivity:Interaction.Behaviors>
            		<Core:EventTriggerBehavior EventName="Checked">
                        <Media:ControlStoryboardAction Storyboard="{StaticResource MenuStoryBoard}"/>
                        <Media:ControlStoryboardAction Storyboard="{StaticResource SearchAloneBack}"/>

                    </Core:EventTriggerBehavior>
                    <Core:EventTriggerBehavior EventName="Unchecked">
                        <Media:ControlStoryboardAction Storyboard="{StaticResource MenuStoryBoardBack}"/>
                    </Core:EventTriggerBehavior>
                </Interactivity:Interaction.Behaviors>
            </ToggleButton>
            <ToggleButton x:Name="ToggleButtonSearch" Content="ToggleButton" HorizontalAlignment="Right" Height="20" Margin="0,8,10,0" Style="{StaticResource SearchButtonStyle}" VerticalAlignment="Top" Width="20" MinWidth="20" MinHeight="20" MaxWidth="20" MaxHeight="25" IsChecked="False">
                <Interactivity:Interaction.Behaviors>
                    <Core:EventTriggerBehavior EventName="Checked">
                        <Media:ControlStoryboardAction Storyboard="{StaticResource SearchStoryBoard}"/>
                        <Media:ControlStoryboardAction Storyboard="{StaticResource MenuAloneClose}"/>
                    </Core:EventTriggerBehavior>
                    <Core:EventTriggerBehavior EventName="Unchecked">
                        <Media:ControlStoryboardAction Storyboard="{StaticResource SearchStoryBoardBack}"/>
                    </Core:EventTriggerBehavior>
                </Interactivity:Interaction.Behaviors>
            </ToggleButton>
		</Grid>
		
        <Grid x:Name="MenuGrid" Grid.Row="1" HorizontalAlignment="Left" Margin="-300,0,0,0" Width="300" Background="Black" Opacity="0.7" RenderTransformOrigin="0.5,0.5">
			<Grid.RenderTransform>
				<CompositeTransform/>
			</Grid.RenderTransform>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="50"/>
                <RowDefinition Height="50"/>
                <RowDefinition Height="50"/>
                <RowDefinition Height="50"/>
                <RowDefinition Height="50"/>
                <RowDefinition Height="50"/>
                <RowDefinition Height="50"/>
                <RowDefinition Height="50"/>
                <RowDefinition Height="50"/>
                <RowDefinition Height="50"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Button Grid.Row="1" Style="{StaticResource ProfilButtonStyle}" Command="{Binding ProfilCommand}" MinHeight="50" MinWidth="200" FontFamily="{StaticResource RobotoMenu}"/>
            <Button Grid.Row="2" Style="{StaticResource NewsButtonStyle}" Command="{Binding NewsCommand}" MinHeight="50" MinWidth="200"/>
            <Button Grid.Row="3" Style="{StaticResource ExplorerButtonStyle}" Command="{Binding ExplorerCommand}" MinHeight="50" MinWidth="200"/>
            <Button Grid.Row="4" Style="{StaticResource PackButtonStyle}" Command="{Binding PacksCommand}" MinHeight="50" MinWidth="200"/>
            <Button Grid.Row="5" Style="{StaticResource MondeMusicalButtonStyle}" Command="{Binding MondeMusicalCommand}" MinHeight="50" MinWidth="200"/>
            <Button Grid.Row="6" Style="{StaticResource BattleButtonStyle}" Command="{Binding BattleCommand}" MinHeight="50" MinWidth="200"/>
            <Button Grid.Row="7" Style="{StaticResource PlaylistButtonStyle}" Command="{Binding PlaylistCommand}" MinHeight="50" MinWidth="200"/>
            <Button Grid.Row="8" Style="{StaticResource FriendButtonStyle}" Command="{Binding AmisCommand}" MinHeight="50" MinWidth="200"/>
            <Button Grid.Row="9" Style="{StaticResource AchatButtonStyle}" Command="{Binding AchatCommand}" MinHeight="50" MinWidth="200"/>
            <Button Grid.Row="10" Style="{StaticResource DecoButtonStyle}" Command="{Binding ConnexionCommand}" MinHeight="50" MinWidth="200"/>
		</Grid>
        
        <Grid x:Name="SearchGrid" Grid.Row="1" Width="300" Background="Black" Opacity="0.7" RenderTransformOrigin="0.5,0.5" HorizontalAlignment="Right" Margin="0,0,-300,0">
        	<Grid.RenderTransform>
        		<CompositeTransform/>
        	</Grid.RenderTransform>
            <Grid.RowDefinitions>
                <RowDefinition Height="40"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            
            <TextBox x:Name="SearchTextBlock" Grid.Row="0" Width="200" BorderThickness="0" AcceptsReturn="True"
                     Height="13" Margin="50,3,50,0" TextAlignment="Center" VerticalContentAlignment="Center"
                     Foreground="Black" Background="Gray" FontSize="18" PlaceholderText="Recherche" Text="{Binding SearchText}" FontFamily="{StaticResource Roboto}"/>
            
            <ListView Grid.Row="1" x:Name="ResultListView"/>
         </Grid>
        
	</Grid>
</Page>


<!--<PivotItem Header="Menu" x:Name="MenuItem">
    <ScrollViewer>
        <StackPanel>
            <Button Style="{StaticResource ButtonStyle1}" Width="304" HorizontalAlignment="Center" Content="Mon Profil" Command="{Binding ProfilCommand}" MinHeight="58"/>
            <Button Style="{StaticResource ButtonStyle1}" Width="300" HorizontalAlignment="Center" Content="News" Command="{Binding NewsCommand}" MinHeight="58"/>
            <Button Style="{StaticResource ButtonStyle1}" Width="300" HorizontalAlignment="Center" Content="Explorer" Command="{Binding ExplorerCommand}" MinHeight="58"/>
            <Button Style="{StaticResource ButtonStyle1}" Width="300" HorizontalAlignment="Center" Content="Packs" Command="{Binding PacksCommand}" MinHeight="58"/>
            <Button Style="{StaticResource ButtonStyle1}" Width="300" HorizontalAlignment="Center" Content="Monde Musical" Command="{Binding MondeMusicalCommand}" MinHeight="58"/>
            <Button Style="{StaticResource ButtonStyle1}" Width="300" HorizontalAlignment="Center" Content="Battle" Command="{Binding BattleCommand}" MinHeight="58"/>
            <Button Style="{StaticResource ButtonStyle1}" Width="300" HorizontalAlignment="Center" Content="Playlists" Command="{Binding PlaylistCommand}" MinHeight="58"/>
            <Button Style="{StaticResource ButtonStyle1}" Width="300" HorizontalAlignment="Center" Content="Amis" Command="{Binding AmisCommand}" MinHeight="58"/>
            <Button Style="{StaticResource ButtonStyle1}" Width="300" HorizontalAlignment="Center" Content="Achats" Command="{Binding AchatCommand}" MinHeight="58"/>
            <Button Style="{StaticResource ButtonStyle1}" Width="300" HorizontalAlignment="Center" Content="{Binding ConnexionString}" Command="{Binding ConnexionCommand}" MinHeight="58"/>
        </StackPanel>
    </ScrollViewer>
</PivotItem>-->

