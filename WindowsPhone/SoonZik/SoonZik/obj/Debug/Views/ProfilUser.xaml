<Page
    x:Class="SoonZik.Views.ProfilUser"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:SoonZik.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:interactivity="using:Microsoft.Xaml.Interactivity"
    xmlns:core="using:Microsoft.Xaml.Interactions.Core"
    mc:Ignorable="d"
    Background="#424242"
    DataContext="{StaticResource ProfilUserViewModel}">
            
    <interactivity:Interaction.Behaviors>
            <core:EventTriggerBehavior EventName="Loaded">
                <core:InvokeCommandAction Command="{Binding SelectionCommand}"/>
            </core:EventTriggerBehavior>
    </interactivity:Interaction.Behaviors>
    
    <Page.Resources>
        <DataTemplate x:Key="UserTemplate">
            <StackPanel Margin="0,0,0,30">
                <TextBlock Text="{Binding Path=Username}" Style="{StaticResource TitleTextBlockStyle}"/>
            </StackPanel>
        </DataTemplate>


    </Page.Resources>
    

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="200"/>
            <RowDefinition Height="300"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- Grid 0 -->
        <Image x:Name="UserImage" Grid.Row="0" Height="150" Width="150" HorizontalAlignment="Left" Margin="20,0,0,0" Source="{Binding CurrentUser.Image}"/>
        <TextBlock x:Name="FirstNameUser" Grid.Row="0" Height="50" Foreground="Turquoise" 
                   HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0, 20, 20, 0"
                   Text="{Binding CurrentUser.Username}" FontSize="23"/>

        <!-- Grid 1 -->
        <ListBox Grid.Row="1" x:Name="FollowListBox" ItemsSource="{Binding CurrentUser.Follows}" ItemTemplate="{StaticResource UserTemplate}" SelectedItem="{Binding SelectUser, Mode=TwoWay}" >
            <interactivity:Interaction.Behaviors>
                <core:EventTriggerBehavior EventName="SelectionChanged">
                    <core:InvokeCommandAction Command="{Binding SelectionCommand}"/>
                </core:EventTriggerBehavior>
            </interactivity:Interaction.Behaviors>
        </ListBox>


        <!-- Grid 2 -->
    </Grid>
</Page>

